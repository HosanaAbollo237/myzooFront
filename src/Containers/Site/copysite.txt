import React, {useState, useEffect} from 'react'
//import GetApiData from '../../Components/GetApiData/GetApiData'

const Site = () => {

    const [data, setData] = useState([])

    let isDataSet = false;
   

    const handleError = (res) => {
        if(!res.ok){
            throw Error('response non OK')
        }
        return res.json()
    }

    useEffect(() => {
        if(!isDataSet){       
                fetch('http://localhost:80/myzoo/front/animals')
                .then(handleError)   
                .then(d => setData(Object.values(d)))
                console.log(data)
                isDataSet = true
            }
    },[]) // let [] empty to run once on first render 
        
        return(
            <>
               <h1>Site Comp</h1>
            </> 
        )
}



export default Site